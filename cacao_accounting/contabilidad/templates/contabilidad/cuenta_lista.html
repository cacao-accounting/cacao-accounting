{% extends "base.html" %}
{% block contenido %}

<style>
  /*
 * CSS Tree menu styles
 * Fuente: https://github.com/nanndoj/css-treeview/blob/master/dist/purecss-treeview.css
 */

 ol.tree
 {
   padding: 0 0 0 30px;
   width: 300px;
 }
   li 
   { 
     position: relative; 
     margin-left: -15px;
     list-style: none;
   }
   li.file
   {
     margin-left: -1px !important;
   }
     li.file a
     {	
       padding-left: 15px;
       text-decoration: none;
       display: block;
     }
   li input
   {
     position: absolute;
     left: 0;
     margin-left: 0;
     opacity: 0;
     z-index: 2;
     cursor: pointer;
     height: 1em;
     width: 1em;
     top: 0;
   }
     li input + ol
     {
       background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAArklEQVRIie3SMWoCQRTG8Z+pld0YrQWLXEeSmwRyDMHCZi2svIUp9hyx8wQWXiDFvsBGNssskibMHwZm5n3v+97AkMlk+lihSNAVoR3EK2rsUfboytDUeOkSPPzSeMQnltjiqUMzi9oytB8Jg/9ggiqmO4Rh2/wQtQrjoebtkN1NyHyI+Sgh5BEbLHCOu+/9Gy73BtC8ZI3nOJ/wjmtifxKF5sfsIvBPmMbKZP4TXwxkGdbXwI5kAAAAAElFTkSuQmCC') 40px -5px no-repeat;
       margin: -1.25em 0 0 -44px; /* 20px */
       padding: 1.563em 0 0 80px;
       overflow-y: hidden;
       max-height: 0px;
       height: auto;
     }
     li input + ol > li { 
       margin-left: -14px !important; 
       padding-left: 1px;
     }
   li label
   {
     cursor: pointer;
     display: block;
     padding-left: 1.5em;
   }
 
   li input:checked + ol
   {
     background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAA90lEQVRIDWNgGAWjIQAKAWZm5kAgxUOT0AAa7g/E+4F4BjmWMBNy1f///18wMTGZAdWpAmljIP8AkP2LkD6YPEELgAp/Ag09BDTcBshWglpyFMj+ATMEH02MBSD9P4CWHAYabgVkgyyxAPL3AtkEfUKsBSBLviFZIgf1yUFClpBiAcySI0DDQXGiDLXkGJD9HSSJDTBhEyQg9h9JngWJTRWmCDC5LoYm25lAE/mpYirUEGEkwxcAxXipabgAkuEglwtS03B+oOFzocECys0kuZxgJAMNdgAaqgTEN//+/VsKpD8DMXUB0JIgoIm0Keyo69RR0wYiBADDz0OLUVIh6wAAAABJRU5ErkJggg==') 40px 0px no-repeat;
     margin: -1.25em 0 0 -44px; /* 20px */
     padding: 1.563em 0 0 80px;
     max-height: 999px;
   }
     li input:checked + ol > li { display: block; margin: 0 0 0.125em;  /* 2px */}
     li input:checked + ol > li:last-child { margin: 0 0 0.063em; /* 1px */ }
 
</style>



  <h4>Catalogo de Cuentas Contables.</h4>
  <form>
    <h6>Seleccionar Entidad.</h6>
    <div class="row">
      <div class="col-8">
        <select class="form-control" id="entidad" name="entidad">
          {%- for entidad in entidades -%}
          <option value="{{ entidad.id }}">{{ entidad.nombre_comercial }}</option>
          {%- endfor -%}
        </select>
      </div>
      <div class="col-2">
        <button type="submit" class="btn btn-primary btn-sm">
          Actualizar
        </button>
      </div>
    </div>
  </form>
  <p><b>Entidad Actual:</b> {{ entidad.razon_social }}</p>
  <ol class="tree">
  {%- for ctabase in base_cuentas -%}
      <li>
        <a href="{{ url_for("contabilidad.cuenta", id_cta=ctabase.codigo) }}" class="link-dark">
          {{ ctabase.codigo + " - " + ctabase.nombre }}
        </a>
        <ol>
          {%- for cta in cuentas if cta.padre == ctabase.codigo-%}
          <li>
            <a href="{{ url_for("contabilidad.cuenta", id_cta=cta.codigo) }}" class="link-dark">
              {{ cta.codigo + " - " + cta.nombre}}
            </a>
            {%- if cta.grupo == True -%}
            <ol>
              {%- for i in cuentas if i.padre == cta.codigo -%}
              <li>
                <a href="{{ url_for("contabilidad.cuenta", id_cta=i.codigo) }}" class="link-dark">
                  {{ i.codigo + " - " + i.nombre}}
                </a>
                {%- if i.grupo == True -%}
                <ol>
                  {%- for ii in cuentas if ii.padre == i.codigo -%}
                  <li>
                    <a href="{{ url_for("contabilidad.cuenta", id_cta=ii.codigo) }}" class="link-dark">
                      {{ ii.codigo + " - " + ii.nombre}}
                    </a>
                    {%- if ii.grupo == True -%}
                    <ol>
                      {%- for iii in cuentas if iii.padre == ii.codigo -%}
                      <li>
                        <a href="{{ url_for("contabilidad.cuenta", id_cta=iii.codigo) }}" class="link-dark">
                          {{ iii.codigo + " - " + iii.nombre}}
                        </a>
                        {%- if iii.grupo == True -%}
                        <ol>
                        {%- for iv in cuentas if iv.padre == iii.codigo -%}
                          <li>
                            <a href="{{ url_for("contabilidad.cuenta", id_cta=iv.codigo) }}" class="link-dark">
                            {{ iv.codigo + " - " + iv.nombre}}
                            </a>
                            {%- if iv.grupo == True -%}
                            <ol>
                              {%- for v in cuentas if v.padre == iv.codigo -%}
                              <li>
                                <a href="{{ url_for("contabilidad.cuenta", id_cta=v.codigo) }}" class="link-dark">
                                  {{ v.codigo + " - " + v.nombre}}
                                </a>
                                {%- if v.grupo == True -%}
                                <ol>
                                  {%- for vi in cuentas if vi.padre == v.codigo -%}
                                  <li>
                                    <a href="{{ url_for("contabilidad.cuenta", id_cta=vi.codigo) }}" class="link-dark">
                                      {{ vi.codigo + " - " + vi.nombre}}
                                    </a>
                                    {%- if vi.grupo == True -%}
                                    <ol>
                                      {%- for vii in cuentas if vii.padre == vi.codigo -%}
                                      <li>
                                        <a href="{{ url_for("contabilidad.cuenta", id_cta=vii.codigo) }}" class="link-dark">
                                          {{ vii.codigo + " - " + vii.nombre}}
                                        </a>
                                        {%- if vii.grupo == True -%}
                                        <ol>
                                          {%- for viii in cuentas if viii.padres == vii.codigo -%}
                                          <li>
                                            <a href="{{ url_for("contabilidad.cuenta", id_cta=viii.codigo) }}" class="link-dark">
                                              {{ viii.codigo + " - " + viii.nombre}}
                                            </a>
                                            {%- if viii.grupo == True -%}
                                            <ol>
                                              {%- for ix in cuentas if ix.padre == viii.codigo -%}
                                              <li>
                                                <a href="{{ url_for("contabilidad.cuenta", id_cta=ix.codigo) }}" class="link-dark">
                                                {{ ix.codigo + " - " + ix.nombre}}
                                                </a>
                                              </li>
                                              {%- endfor -%}
                                            </ol>
                                            {%- endif -%}
                                          </li>
                                          {%- endfor -%}
                                        </ol>
                                        {%- endif -%}
                                      </li>
                                      {%- endfor -%}
                                    </ol>
                                    {%- endif -%}
                                  </li>
                                  {%- endfor -%}
                                </ol>
                                {%- endif -%}
                              </li>
                              {%- endfor -%}
                            </ol>
                            {%- endif -%}
                          </li>
                        {%- endfor -%}
                        </ol>
                        {%- endif -%}
                      </li>
                      {%- endfor -%}
                    </ol>
                    {%- endif -%}
                  </li>
                  {%- endfor -%}
                </ol>
                {%- endif -%}
              </li>
              {% endfor %}
            </ol>
            {%- endif -%}
          </li> 
          {%- endfor -%}
        </ol>
      </li>
    {%- endfor -%}
    </ol>
{% endblock %}

