{# Esta no es una página web, contiene funciones para que puedan ser usadas en otras páginas. #}
{# Referencia: https://jinja.palletsprojects.com/en/2.11.x/templates/#macros #}

{# Ayuda a agregar a importar los mismos archivos en el header de los archivos .html #}
{% macro headertags() -%}

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Cacao Accounting Software">
  <meta name="author" content="William Moreno Reyes">

  {% if titulo  %}
  <title> {{ titulo }} </title>
  {% else %}
  <title>Cacao Accounting</title>
  {% endif %}

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='node_modules/bootstrap/dist/css/bootstrap.css') }}">
  <script src="{{ url_for('static', filename='node_modules/bootstrap/dist/js/bootstrap.bundle.js') }}"></script>
  
  <!-- Código JS local -->
  <script src="{{ url_for('static', filename='cacaoaccounting.js') }}"></script>

  <!-- Favicons -->
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='media/favicon-32x32.png') }}" sizes="32x32">
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='media/favicon-16x16.png') }}" sizes="16x16">

{%- endmacro %}

{# Ayuda a renderizar la barre superior en las páginas de la aplicación #}
{% macro cabecera() %}

<header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
  <a class="navbar-brand col-md-3 col-lg-2 mr-0 px-3" href="{{ url_for("cacao_app.pagina_inicio") }}"> 
    <img height="25" src="{{ url_for('static', filename='media/cacao_accounting _logo.svg') }}" alt="Cacao Accounting">
  </a>
  <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-toggle="collapse" data-target="#BarraLateralMenu" aria-controls="BarraLateralMenu" aria-expanded="false" aria-label="Navegación">
    <span class="navbar-toggler-icon"></span>
  </button>
  <ul class="navbar-nav px-3">
    <li class="nav-item text-nowrap">
      <a class="nav-link" href="{{ url_for("login.cerrar_sesion") }}">Salir</a>
    </li>
  </ul>
</header>

{%- endmacro %}

{# Ayuda a renderizar la barra lateral en las páginas de la aplicación #}
{% macro barralateral() -%}

<nav id="BarraLateralMenu" class="col-md-3 col-lg-2 d-md-block bg-dark sidebar collapse">
  <div class="position-sticky pt-3">
    <ul class="nav flex-column">
      {% if validar_modulo_activo("accounting")  %}
        <li class="nav__item">
          <a href="{{ url_for("contabilidad.conta") }}" class="nav-link active" >Contabilidad</a>
        </li>
        {% endif %}
        {% if validar_modulo_activo("cash")  %}
        <li class="nav__item">
          <a href="{{ url_for("bancos.bancos_") }}" class="nav-link active">Caja y Bancos</a>
        </li>
        {% endif %}
        {% if validar_modulo_activo("buying")  %}
        <li class="nav__item">
          <a href="{{ url_for("compras.compras_") }}" class="nav-link active">Compras</a>
        </li>
        {% endif %}
        {% if validar_modulo_activo("inventory")  %}
        <li class="nav__item">
          <a href="{{ url_for("inventario.inventario_") }}" class="nav-link active">Inventarios</a>
        </li>
        {% endif %}
        {% if validar_modulo_activo("sales")  %}
        <li class="nav__item">
          <a href="{{ url_for("ventas.ventas_") }}" class="nav-link active">Ventas</a>
        </li>
        {% endif %}
        {% if modulos_extra %}
        {% for modulo in modulos_extra -%}
        {% if validar_modulo_activo(modulo.nombre_modulo)  %}
        <li class="nav__item">
          <a href="{{ url_for( modulo.url ) }}" class="nav-link active">{{ modulo.nombre }} </a>
        </li>
        {% endif %}
        {%- endfor %}
        {% endif %}
        {% if validar_modulo_activo("admin")  %}
        <li class="nav__item">
          <a href="{{ url_for("admin.admin_") }}" class="nav-link active">Administración</a>
        </li>
        {% endif %}
    </ul>
    </nav>
  </div>
</div>
{%- endmacro %}